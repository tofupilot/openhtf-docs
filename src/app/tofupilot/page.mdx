export const metadata = {
  title: 'Manufacturing Test Traceability & Analytics',
}

# Test Data Managemement

Frameworks like OpenHTF can be used to standardize test scripts and reports, ensuring consistent execution. {{ className: 'lead' }}

**Problem**: Once these scripts are deployed to production computers, you end up with a large volume of tests. It becomes impossible to easily understand what‚Äôs failing or where issues are.

**Solution**: Test data management platforms like [TofuPilot](https://tofupilot.com) simplify this by providing:

- **Clear traceability** to track and organize tests
- **Real-time performance monitoring** to quickly identify issues

[TofuPilot](https://tofupilot.com) offers both a **secure cloud workspace** and an **on-premises option** for teams managing their own infrastructure.

<Image src="/tofupilot-landing-page-light.png" alt="" withDarkMode />

## Traceability

Test traceability answers key questions like:

- Was this serial number tested? How many times? Did it pass the first time?
- What part number and revision was it?
- When and where was the test done?

_OpenHTF plug-and-play test traceability example with TofuPilot:_

<Image src="/tofupilot-traceability-light.png" alt="" withDarkMode />

While ERP or MES systems typically handle traceability for parts purchasing and shipment, the automatic test process is often disconnected. Local test logs contain valuable information that gets lost if not properly managed.

## Performances

Tracking and optimizing test performance is crucial as production scales. By monitoring key metrics, you can identify inefficiencies, improve throughput, and maintain product quality. Key test performance metrics include:

- **First-pass yield (FPY)**: Percentage of units passing tests without re-test or rework.

- **Cycle time**: Time spent per test cycle.

- **Process capability**: Measures test results against limits.

_OpenHTF plug-and-play test performances example with TofuPilot:_

<Image src="/tofupilot-analytics-light.png" alt="" withDarkMode />

## OpenHTF + TofuPilot

Connecting your OpenHTF test scripts with TofuPilot is really easy.

### Get started in 5 minutes

TofuPilot integrates seamlessly with OpenHTF.

1. Create your account on [TofuPilot](https://tofupilot.com) and install the TofuPilot open-source Python client:

```bash
pip install tofupilot[openhtf]
```

2. Retrieve your API key from [My Profile](/user-management#api-key) page and save it as an environment variable.

<CodeGroup>
```bash {{ title: 'Linux, macOS' }}
echo 'export TOFUPILOT_API_KEY=[your_key_here]' >> ~/.zshenv
```

```bash {{ title: 'Windows' }}
setx TOFUPILOT_API_KEY "<your_key_here>"
```

</CodeGroup>

3. Add the `create_run_from_report` function to your OpenHTF test scripts:

```python {{ title: 'openhtf_tofupilot.py '}}
from openhtf import Test, PhaseResult
from openhtf.plugs import user_input
from openhtf.output.callbacks import json_factory
from tofupilot import TofuPilotClient

# Initialize the TofuPilot client
client = TofuPilotClient()

# Define a test phase to simulate the power-on procedure
def power_on_test(test):
    print("Power on.")
    return PhaseResult.CONTINUE

# Function to execute the test and save results to a JSON file
def execute_test(file_path):
    test = Test(power_on_test)

    # Set output callback to save the test results as a JSON file
    test.add_output_callbacks(json_factory.OutputToJSON(file_path))

    # Execute the test with a specific device identifier
    test.execute(lambda: "DeviceUnderTest123")

def main():
    # Specify the file path for saving test results
    file_path = "test_result.json"
    execute_test(file_path)

    # Upload the test results to TofuPilot, specifying the importer type
    client.create_run_from_report(file_path, importer="OPENHTF")

if __name__ == "__main__":
  main()
```

Your test reports will be automatically uploaded and processed by TofuPilot üöÄ

```text
TofuPilot Python Client 1.2.2
Power on.

======================= test: openhtf_test  outcome: PASS ======================

2024-09-10 12:00:48 - ‚ÑπÔ∏è Starting run creation from file "test_result.json"...
2024-09-10 12:01:01 - ‚úÖ Test run imported successfully: https://tofupilot.com/<your_organization>/runs/670926d6-6faf-11ef-a682-673820598f11
```

### Build it yourself vs. TofuPilot

You could build your own analytics with Excel or custom solutions, but this option is expensive, slow, and hard to maintain, while taking focus away from more important work.

<Row>
  <Col>
    | Build Your Own | Use TofuPilot | | ------------------------------- |
    ---------------------------- | | 1Ô∏è‚É£ Define architecture | ‚ö° One-line
    integration | | 2Ô∏è‚É£ Select infrastructure | | | 3Ô∏è‚É£ Set up database | | | 4Ô∏è‚É£
    Develop dashboards | | | 5Ô∏è‚É£ Secure platform | | | 6Ô∏è‚É£ Implement logging logic
    | | | 7Ô∏è‚É£ Maintain and update | |
  </Col>
</Row>

# Monitoring Quality with First-Pass Yield

Managing test results at scale often leads to missed failures and rework. **First-Pass Yield (FPY)** helps identify inefficiencies. [TofuPilot](https://tofupilot.com) automates FPY tracking and breaks it down by individual test steps. {{ className: 'lead' }}

## Problem: managing test failures

As production scales, tracking pass/fail rates becomes harder. Test failures cause:

- üõë **Missed Issues**: Faulty products slip through.
- üí∏ **High Rework Rates**: More costs and delays.
- üìâ **Inconsistent Quality**: Declining product standards.

## Solution: First-Pass Yield

FPY measures the percentage of units passing all tests on the first try, helping reduce failures and improve efficiency.

_Here, we see the first procedure needs investigation due to low first-pass yield, while the second is fine:_

<Image src="/fpy-procedures-light.png" withDarkMode alt="" />

## Implementation in TofuPilot

- ‚ö°Ô∏è **Real-time FPY Calculation**: Continuous tracking of FPY.
- üö® **Threshold Alerts**: Alerts when FPY drops below set limits (e.g., 75%, 90%).
- üîç **Detailed Breakdown**: FPY breakdown by individual test steps for deeper insights.

With TofuPilot, teams can improve efficiency, reduce rework, and maintain high-quality production.

<Image src="/fpy-analytics-light.png" withDarkMode alt="" />

<Image src="/fpy-steps-light.png" withDarkMode alt="" />

# Process Capability Index (Cpk)

// this should be a summary
The Process Capability Index (Cpk) is a key statistical tool used in production and manufacturing to measure how well a process is performing relative to its specification limits. It indicates the ability of a process to produce output within the desired specification limits consistently. {{ className: 'lead' }}

// issue ->

// solution -> track capability measurement

// detail -> all indicators, cp, cpk, pp, ppk

// result -> the most useful is cpk?

// this is not a note

<Note>
  Cpk is only meaningful for test phases that include measurements with both
  defined values and limits.
</Note>

## Definition

Cpk is a measure of process capability that takes into account both the centering of the process and its variability. It shows how closely a process is running to its specification limits, considering the natural variability in the process.

**Formula:**

```jsx
Cpk = min[(USL - Œº) / (3œÉ), (Œº - LSL) / (3œÉ)]
```

Where:

- USL = Upper Specification Limit
- LSL = Lower Specification Limit
- Œº = Process Mean
- œÉ = Standard Deviation

// illustrate now with tofupilot

## Interpretation

A Cpk value of 1.33 or higher is typically considered acceptable, indicating that the process is capable of producing output within specification limits. A Cpk value of less than 1 suggests that the process is not capable, and there is a need for process improvement or control measures.

### Key Points:

- Cpk > 1.33: Process is highly capable.
- Cpk = 1: Process is marginally capable.
- Cpk < 1: Process is not capable; improvements are needed.

## Importance

Improving Cpk is crucial for maintaining consistent product quality and reducing the number of defects. A higher Cpk value indicates a more capable process, with outputs that are more likely to meet the desired specifications. This leads to fewer defects, less waste, and lower production costs.

## Calculation

To visualize your process‚Äôs Cpk, simply import your data on TofuPilot, and it will automatically calculate the Cpk values, providing insights into the capability of your processes.

<Image src="/cpk-light.png" alt="" withDarkMode />
